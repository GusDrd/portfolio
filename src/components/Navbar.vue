<template>
  <div class="navbar" :class="{'dark-mode': getDarkMode, 'tablet-view': isTablet}">
    <div class="tablet-bar" v-if="isTablet" :class="{'is-active': isSideView}">
      <h1>AD.</h1>
      <div class="menu">
        <div class="menu-links">
          <a href="#work" @click="toggleSideView" v-smooth-scroll>work</a>
          <a href="#about" @click="toggleSideView" v-smooth-scroll>about</a>
          <a href="#contact" @click="toggleSideView" v-smooth-scroll>contact</a>
          <div class="night-mode" :class="{ 'is-active': getDarkMode }" @click="toggleDarkMode(); toggleSideView();">
            <svg :class="{'night-icon': !getDarkMode, 'active-night-icon': getDarkMode}" height="38" width="38" fill="#333" viewBox="0 0 38 38">
              <path d="M36.368 21.5469C36.7471 21.6417 37.0933 21.8379 37.3694 22.1144C37.645 22.3899 37.8407 22.7351 37.9354 23.1131C38.0302 23.4911 38.0205 23.8877 37.9074 24.2606C36.7034 28.1874 34.291 31.6345 31.0137 34.111C27.6625 36.6461 23.572 38.0123 19.3695 37.9999C15.77 38.0002 12.2417 36.9976 9.1804 35.1047C6.1191 33.2117 3.64598 30.5034 2.03855 27.2834C0.431119 24.0635 -0.247024 20.4595 0.0802149 16.8757C0.407453 13.2919 1.72713 9.87022 3.89115 6.99452C6.36577 3.71622 9.8117 1.30192 13.7384 0.0952723C14.1123 -0.019834 14.5105 -0.0308561 14.8903 0.0633911C15.27 0.157638 15.6168 0.353589 15.8934 0.63017C16.1701 0.90675 16.3661 1.2535 16.4603 1.63312C16.5546 2.01273 16.5436 2.41087 16.4284 2.78469C15.6392 5.3947 15.573 8.16986 16.2366 10.8146C16.9003 13.4593 18.2691 15.8745 20.1972 17.8029C22.1253 19.7313 24.5406 21.1007 27.1856 21.7652C29.8306 22.4298 32.6064 22.3646 35.2173 21.5765C35.5911 21.4624 35.9889 21.4522 36.368 21.5469Z"/>
            </svg>
            <svg :class="{'day-icon': getDarkMode, 'active-day-icon': !getDarkMode}" height="38" width="38" fill="#333" viewBox="0 0 38 38">
              <path d="M18.9989 32.3C19.5029 32.3 19.9862 32.5002 20.3425 32.8565C20.6989 33.2128 20.8991 33.6961 20.8991 34.2V36.1C20.8991 36.6039 20.6989 37.0872 20.3425 37.4435C19.9862 37.7998 19.5029 38 18.9989 38C18.495 38 18.0117 37.7998 17.6554 37.4435C17.299 37.0872 17.0988 36.6039 17.0988 36.1V34.2C17.0988 33.6961 17.299 33.2128 17.6554 32.8565C18.0117 32.5002 18.495 32.3 18.9989 32.3ZM31.0912 28.405L32.4346 29.7483C32.7807 30.1066 32.9722 30.5866 32.9679 31.0848C32.9636 31.5829 32.7637 32.0595 32.4114 32.4118C32.0592 32.764 31.5826 32.9638 31.0844 32.9682C30.5862 32.9725 30.1062 32.781 29.7478 32.4349L28.4045 31.0916C28.0583 30.7333 27.8668 30.2533 27.8712 29.7551C27.8755 29.257 28.0753 28.7804 28.4276 28.4281C28.7799 28.0759 29.2565 27.876 29.7547 27.8717C30.2529 27.8674 30.7329 28.0589 31.0912 28.405ZM6.90668 28.405C7.24862 28.0642 7.70745 27.8664 8.18998 27.8517C8.67251 27.8369 9.14256 28.0064 9.50465 28.3257C9.86675 28.6449 10.0937 29.09 10.1395 29.5706C10.1853 30.0512 10.0464 30.5311 9.75114 30.913L9.59343 31.0916L8.25005 32.4349C7.90811 32.7757 7.44928 32.9735 6.96675 32.9882C6.48422 33.003 6.01417 32.8335 5.65208 32.5142C5.28998 32.195 5.063 31.7499 5.01721 31.2693C4.97143 30.7887 5.1103 30.3088 5.40559 29.9269L5.5633 29.7483L6.90668 28.405ZM18.9989 7.6C22.0226 7.6 24.9224 8.80107 27.0604 10.939C29.1984 13.0769 30.3996 15.9765 30.3996 19C30.3996 22.0235 29.1984 24.9231 27.0604 27.061C24.9224 29.1989 22.0226 30.4 18.9989 30.4C15.9753 30.4 13.0755 29.1989 10.9375 27.061C8.79945 24.9231 7.59832 22.0235 7.59832 19C7.59832 15.9765 8.79945 13.0769 10.9375 10.939C13.0755 8.80107 15.9753 7.6 18.9989 7.6ZM3.79811 17.1C4.2824 17.1005 4.74822 17.286 5.10038 17.6184C5.45254 17.9509 5.66445 18.4052 5.69284 18.8886C5.72122 19.3721 5.56392 19.8481 5.25308 20.2195C4.94224 20.5908 4.50133 20.8295 4.02042 20.8867L3.79811 20.9H1.898C1.4137 20.8995 0.947886 20.714 0.595728 20.3816C0.24357 20.0491 0.0316503 19.5948 0.00326825 19.1113C-0.0251139 18.6279 0.132184 18.1519 0.443023 17.7805C0.753862 17.4092 1.19478 17.1705 1.67569 17.1133L1.898 17.1H3.79811ZM36.0999 17.1C36.6038 17.1 37.0871 17.3002 37.4435 17.6565C37.7998 18.0128 38 18.4961 38 19C38 19.5039 37.7998 19.9872 37.4435 20.3435C37.0871 20.6998 36.6038 20.9 36.0999 20.9H34.1998C33.6958 20.9 33.2125 20.6998 32.8562 20.3435C32.4999 19.9872 32.2997 19.5039 32.2997 19C32.2997 18.4961 32.4999 18.0128 32.8562 17.6565C33.2125 17.3002 33.6958 17.1 34.1998 17.1H36.0999ZM5.5633 5.5651C5.89049 5.23796 6.3258 5.04145 6.78758 5.01241C7.24935 4.98338 7.70585 5.12382 8.07144 5.4074L8.25005 5.5651L9.59343 6.9084C9.93421 7.25032 10.1321 7.70912 10.1468 8.19163C10.1615 8.67413 9.99204 9.14416 9.67276 9.50623C9.35348 9.8683 8.90834 10.0953 8.42776 10.1411C7.94718 10.1868 7.46719 10.048 7.08529 9.7527L6.90668 9.595L5.5633 8.2517C5.20709 7.8954 5.00698 7.41221 5.00698 6.9084C5.00698 6.40459 5.20709 5.9214 5.5633 5.5651ZM32.4346 5.5651C32.7908 5.9214 32.9909 6.40459 32.9909 6.9084C32.9909 7.41221 32.7908 7.8954 32.4346 8.2517L31.0912 9.595C30.9159 9.77647 30.7063 9.92122 30.4744 10.0208C30.2426 10.1204 29.9933 10.1728 29.741 10.175C29.4887 10.1772 29.2385 10.1291 29.005 10.0336C28.7715 9.93803 28.5593 9.79695 28.3809 9.61855C28.2025 9.44015 28.0614 9.22802 27.9659 8.99451C27.8703 8.76101 27.8223 8.51082 27.8245 8.25854C27.8267 8.00626 27.8791 7.75694 27.9787 7.52513C28.0782 7.29332 28.223 7.08367 28.4045 6.9084L29.7478 5.5651C30.1042 5.2089 30.5874 5.00881 31.0912 5.00881C31.5951 5.00881 32.0783 5.2089 32.4346 5.5651ZM18.9989 0C19.5029 0 19.9862 0.200178 20.3425 0.556497C20.6989 0.912816 20.8991 1.39609 20.8991 1.9V3.8C20.8991 4.30391 20.6989 4.78718 20.3425 5.1435C19.9862 5.49982 19.5029 5.7 18.9989 5.7C18.495 5.7 18.0117 5.49982 17.6554 5.1435C17.299 4.78718 17.0988 4.30391 17.0988 3.8V1.9C17.0988 1.39609 17.299 0.912816 17.6554 0.556497C18.0117 0.200178 18.495 0 18.9989 0Z"/>
            </svg>
          </div>
        </div>
      </div>
      <svg @click="toggleSideView" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 18" fill="#333">
        <path class="bar-1" d="M0 1.58824C0 0.711077 0.711077 0 1.58824 0H22.4118C23.2889 0 24 0.711077 24 1.58824V1.58824C24 2.46539 23.2889 3.17647 22.4118 3.17647H1.58824C0.711077 3.17647 0 2.46539 0 1.58824V1.58824Z"/>
        <path class="bar-2" d="M0 9C0 8.12284 0.711077 7.41177 1.58824 7.41177H22.4118C23.2889 7.41177 24 8.12284 24 9V9C24 9.87716 23.2889 10.5882 22.4118 10.5882H1.58824C0.711077 10.5882 0 9.87716 0 9V9Z"/>
        <path class="bar-3" d="M0 16.4118C0 15.5346 0.711077 14.8235 1.58823 14.8235H22.4118C23.2889 14.8235 24 15.5346 24 16.4118V16.4118C24 17.2889 23.2889 18 22.4118 18H1.58823C0.711076 18 0 17.2889 0 16.4118V16.4118Z"/>
      </svg>
    </div>
    <h1 v-if="!isTablet">AD.</h1>
    <ul v-if="!isTablet">
      <li><a href="#work" v-smooth-scroll>work</a></li>
      <li><a href="#about" v-smooth-scroll>about</a></li>
      <li><a href="#contact" v-smooth-scroll>contact</a></li>
      <li><div class="night-mode" :class="{ 'is-active': getDarkMode }" @click="toggleDarkMode">
        <svg :class="{'night-icon': !getDarkMode, 'active-night-icon': getDarkMode}" height="38" width="38" fill="#333" viewBox="0 0 38 38">
          <path d="M36.368 21.5469C36.7471 21.6417 37.0933 21.8379 37.3694 22.1144C37.645 22.3899 37.8407 22.7351 37.9354 23.1131C38.0302 23.4911 38.0205 23.8877 37.9074 24.2606C36.7034 28.1874 34.291 31.6345 31.0137 34.111C27.6625 36.6461 23.572 38.0123 19.3695 37.9999C15.77 38.0002 12.2417 36.9976 9.1804 35.1047C6.1191 33.2117 3.64598 30.5034 2.03855 27.2834C0.431119 24.0635 -0.247024 20.4595 0.0802149 16.8757C0.407453 13.2919 1.72713 9.87022 3.89115 6.99452C6.36577 3.71622 9.8117 1.30192 13.7384 0.0952723C14.1123 -0.019834 14.5105 -0.0308561 14.8903 0.0633911C15.27 0.157638 15.6168 0.353589 15.8934 0.63017C16.1701 0.90675 16.3661 1.2535 16.4603 1.63312C16.5546 2.01273 16.5436 2.41087 16.4284 2.78469C15.6392 5.3947 15.573 8.16986 16.2366 10.8146C16.9003 13.4593 18.2691 15.8745 20.1972 17.8029C22.1253 19.7313 24.5406 21.1007 27.1856 21.7652C29.8306 22.4298 32.6064 22.3646 35.2173 21.5765C35.5911 21.4624 35.9889 21.4522 36.368 21.5469Z"/>
        </svg>
        <svg :class="{'day-icon': getDarkMode, 'active-day-icon': !getDarkMode}" height="38" width="38" fill="#333" viewBox="0 0 38 38">
          <path d="M18.9989 32.3C19.5029 32.3 19.9862 32.5002 20.3425 32.8565C20.6989 33.2128 20.8991 33.6961 20.8991 34.2V36.1C20.8991 36.6039 20.6989 37.0872 20.3425 37.4435C19.9862 37.7998 19.5029 38 18.9989 38C18.495 38 18.0117 37.7998 17.6554 37.4435C17.299 37.0872 17.0988 36.6039 17.0988 36.1V34.2C17.0988 33.6961 17.299 33.2128 17.6554 32.8565C18.0117 32.5002 18.495 32.3 18.9989 32.3ZM31.0912 28.405L32.4346 29.7483C32.7807 30.1066 32.9722 30.5866 32.9679 31.0848C32.9636 31.5829 32.7637 32.0595 32.4114 32.4118C32.0592 32.764 31.5826 32.9638 31.0844 32.9682C30.5862 32.9725 30.1062 32.781 29.7478 32.4349L28.4045 31.0916C28.0583 30.7333 27.8668 30.2533 27.8712 29.7551C27.8755 29.257 28.0753 28.7804 28.4276 28.4281C28.7799 28.0759 29.2565 27.876 29.7547 27.8717C30.2529 27.8674 30.7329 28.0589 31.0912 28.405ZM6.90668 28.405C7.24862 28.0642 7.70745 27.8664 8.18998 27.8517C8.67251 27.8369 9.14256 28.0064 9.50465 28.3257C9.86675 28.6449 10.0937 29.09 10.1395 29.5706C10.1853 30.0512 10.0464 30.5311 9.75114 30.913L9.59343 31.0916L8.25005 32.4349C7.90811 32.7757 7.44928 32.9735 6.96675 32.9882C6.48422 33.003 6.01417 32.8335 5.65208 32.5142C5.28998 32.195 5.063 31.7499 5.01721 31.2693C4.97143 30.7887 5.1103 30.3088 5.40559 29.9269L5.5633 29.7483L6.90668 28.405ZM18.9989 7.6C22.0226 7.6 24.9224 8.80107 27.0604 10.939C29.1984 13.0769 30.3996 15.9765 30.3996 19C30.3996 22.0235 29.1984 24.9231 27.0604 27.061C24.9224 29.1989 22.0226 30.4 18.9989 30.4C15.9753 30.4 13.0755 29.1989 10.9375 27.061C8.79945 24.9231 7.59832 22.0235 7.59832 19C7.59832 15.9765 8.79945 13.0769 10.9375 10.939C13.0755 8.80107 15.9753 7.6 18.9989 7.6ZM3.79811 17.1C4.2824 17.1005 4.74822 17.286 5.10038 17.6184C5.45254 17.9509 5.66445 18.4052 5.69284 18.8886C5.72122 19.3721 5.56392 19.8481 5.25308 20.2195C4.94224 20.5908 4.50133 20.8295 4.02042 20.8867L3.79811 20.9H1.898C1.4137 20.8995 0.947886 20.714 0.595728 20.3816C0.24357 20.0491 0.0316503 19.5948 0.00326825 19.1113C-0.0251139 18.6279 0.132184 18.1519 0.443023 17.7805C0.753862 17.4092 1.19478 17.1705 1.67569 17.1133L1.898 17.1H3.79811ZM36.0999 17.1C36.6038 17.1 37.0871 17.3002 37.4435 17.6565C37.7998 18.0128 38 18.4961 38 19C38 19.5039 37.7998 19.9872 37.4435 20.3435C37.0871 20.6998 36.6038 20.9 36.0999 20.9H34.1998C33.6958 20.9 33.2125 20.6998 32.8562 20.3435C32.4999 19.9872 32.2997 19.5039 32.2997 19C32.2997 18.4961 32.4999 18.0128 32.8562 17.6565C33.2125 17.3002 33.6958 17.1 34.1998 17.1H36.0999ZM5.5633 5.5651C5.89049 5.23796 6.3258 5.04145 6.78758 5.01241C7.24935 4.98338 7.70585 5.12382 8.07144 5.4074L8.25005 5.5651L9.59343 6.9084C9.93421 7.25032 10.1321 7.70912 10.1468 8.19163C10.1615 8.67413 9.99204 9.14416 9.67276 9.50623C9.35348 9.8683 8.90834 10.0953 8.42776 10.1411C7.94718 10.1868 7.46719 10.048 7.08529 9.7527L6.90668 9.595L5.5633 8.2517C5.20709 7.8954 5.00698 7.41221 5.00698 6.9084C5.00698 6.40459 5.20709 5.9214 5.5633 5.5651ZM32.4346 5.5651C32.7908 5.9214 32.9909 6.40459 32.9909 6.9084C32.9909 7.41221 32.7908 7.8954 32.4346 8.2517L31.0912 9.595C30.9159 9.77647 30.7063 9.92122 30.4744 10.0208C30.2426 10.1204 29.9933 10.1728 29.741 10.175C29.4887 10.1772 29.2385 10.1291 29.005 10.0336C28.7715 9.93803 28.5593 9.79695 28.3809 9.61855C28.2025 9.44015 28.0614 9.22802 27.9659 8.99451C27.8703 8.76101 27.8223 8.51082 27.8245 8.25854C27.8267 8.00626 27.8791 7.75694 27.9787 7.52513C28.0782 7.29332 28.223 7.08367 28.4045 6.9084L29.7478 5.5651C30.1042 5.2089 30.5874 5.00881 31.0912 5.00881C31.5951 5.00881 32.0783 5.2089 32.4346 5.5651ZM18.9989 0C19.5029 0 19.9862 0.200178 20.3425 0.556497C20.6989 0.912816 20.8991 1.39609 20.8991 1.9V3.8C20.8991 4.30391 20.6989 4.78718 20.3425 5.1435C19.9862 5.49982 19.5029 5.7 18.9989 5.7C18.495 5.7 18.0117 5.49982 17.6554 5.1435C17.299 4.78718 17.0988 4.30391 17.0988 3.8V1.9C17.0988 1.39609 17.299 0.912816 17.6554 0.556497C18.0117 0.200178 18.495 0 18.9989 0Z"/>
        </svg>
      </div></li>
    </ul>
  </div>
</template>


<!-- ============ SCRIPTS ============ -->
<script>
import { website_stores } from '@/store/index.js'

export default {
  name: 'nav-bar',

  data() {
    return {
      isSideView: false
    }
  },

  methods: {
    toggleDarkMode() {
      website_stores().setDarkMode();
    },
    toggleSideView() {
      this.isSideView = !this.isSideView;
    },
    disableScroll() {
      document.body.style.overflow = 'hidden';
    },
    enableScroll() {
      document.body.style.overflow = 'auto';
    }
  },

  computed: {
    getDarkMode() {
      return website_stores().getDarkMode;
    },
    isTablet() {
      return website_stores().getTabletMode;
    }
  },

  watch: {
    isSideView(isViewOn) {
      if(isViewOn) {
        this.disableScroll();
      }else {
        this.enableScroll();
      }
    }
  }
}

</script>


<!-- ============= STYLE ============= -->
<style scoped>

.navbar {
  display: flex;
  margin: 60px 200px 60px 200px;
  justify-content: space-between;
  align-items: center;
}

.navbar.tablet-view {
  display: flex;
  margin: 30px 160px 30px 160px;
  justify-content: space-between;
  align-items: center;
}

/* ------------------------------------- */
/* -------- Navbar tablet view -------- */

.tablet-bar {
  display: flex;
  width: 100%;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

.navbar .tablet-bar h1 {
  display: flex;
  font-size: 50px;
  font-style: normal;
  font-weight: 500;
  line-height: normal;
}

.tablet-bar svg {
  display: flex;
  width: 50px;
  height: 37.5px;
  z-index: 3;
}

.navbar.dark-mode .tablet-bar svg {
  fill: #FFFDFA;
}


.menu {
  display: flex;
  position: absolute;
  width: 100%;
  height: 100%;
  justify-content: center;
  top: 0;
  right: 0;
  z-index: 2;

  transform: translate(-100%, 0);
  transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0), background-color 0.5s;

  background: #EEF;
}
.navbar.dark-mode .menu {
  background-color: #4c486b;
}

.menu-links {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 80px;
  margin: 240px 0;
}
.menu-links a {
  font-weight: 600;
}


.tablet-bar.is-active .menu {
  transform: translate(0, 0);
}

.tablet-bar .bar-1,
.tablet-bar .bar-3 {
  transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
}
.tablet-bar .bar-2 {
  transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
  transition: opacity 0.8s;
}

.tablet-bar.is-active .bar-1 {
  transform: rotate(45deg) translate(1px, -1px);
  transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
}
.tablet-bar.is-active .bar-2 {
  opacity: 0;
  transition: opacity 0.2s;
}
.tablet-bar.is-active .bar-3 {
  transform: rotate(-45deg) translate(-12px, -4px);
  transition: all 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
}

.tablet-bar svg {
  cursor: pointer;
  pointer-events: auto;
}

/* ----------------------------------------- */
/* -------- Phone specific details -------- */
@media screen and (max-width: 775px) and (min-width: 100px) {
  .navbar.tablet-view {
    margin: 10px 50px 10px 50px;
  }

  .navbar .tablet-bar h1 {
    font-size: 30px;
  }

  .tablet-bar svg {
    width: 30px;
    height: 22.5px;
  }

  .tablet-bar .menu-links {
    margin: 120px 0;
    gap: 60px;
  }
}

/* ------------------------------------ */

.navbar ul {
  display: flex;
  height: 80px;
  gap: 100px;
  padding-left: 0;
  list-style-type: none;
}

.navbar li {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  align-self: stretch;
}

.navbar a {
  color: #333;
  text-align: center;
  font-size: 40px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  text-decoration: none;

  transition: 200ms;
  -webkit-transition: 200ms;
}

.navbar.dark-mode a {
  color: #FFFDFA;
}

.navbar a:hover {
  color: #7F7DFF;
}


.night-mode {
    display: flex;
}

.night-mode svg {
  cursor: pointer;
  pointer-events: auto;
}

.navbar.dark-mode .night-mode svg {
  fill: #FFFDFA;
}

/* ---------------------------------- */
/* -------- DAY/NIGHT ICONS -------- */

.day-icon {
  position: absolute;
  transform: scale(0.4);
  opacity: 0;

  transition: 400ms;
}

.active-day-icon {
  position: absolute;
  transform: scale(0.4);
  opacity: 0;
}

.night-icon {
  opacity: 1;
  transform: scale(1);

  transition: 400ms;
}

.active-night-icon {
  opacity: 1;
  transform: scale(1);
}


.night-mode.is-active .night-icon {
  opacity: 0;
  transform: scale(0.4);
}

.night-mode.is-active .day-icon {
  opacity: 1;
  transform: scale(1);
}

.night-mode.is-active .active-night-icon {
  opacity: 0;
  transform: scale(0.4);
}

.night-mode.is-active .active-day-icon {
  opacity: 1;
  transform: scale(1);
}


.night-mode svg path {
  transition: 200ms;
  -webkit-transition: 200ms;
}

.night-mode:hover path {
  fill: #7F7DFF;
}

/* ---------------------------------- */
/* -------- Navbar initials -------- */
.navbar h1 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-self: stretch;
  margin: 40px 0;

  color: #333;
  font-size: 64px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  letter-spacing: -0.64px;
  text-transform: uppercase;

  transition: 0.5s;
  -webkit-transition: 0.5s;
}

.navbar.dark-mode h1 {
  color: #FFFDFA;
}
</style>